<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>pickled-plums Documentation</title>
        <style>
      :root {
        --bg: #282828;
        --fg: #ebdbb2;
        --red: #cc241d;
        --green: #98971a;
        --yellow: #d79921;
        --blue: #458588;
        --purple: #b16286;
        --aqua: #689d6a;
        --orange: #d65d0e;
        --gray: #a89984;
      }
      body {
        font-family: monospace;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        background-color: var(--bg);
        color: var(--fg);
      }
      h1, h2, h3 {
        color: var(--yellow);
      }
      pre {
        background: var(--gray);
        color: var(--bg);
        padding: 10px;
        border-radius: 5px;
        overflow-x: auto;
      }
      a {
        color: var(--blue);
        text-decoration: none;
      }
      a:hover {
        color: var(--aqua);
      }
      hr {
        border: 1px solid var(--orange);
        margin: 40px 0;
      }
      footer {
        text-align: center;
        margin-top: 50px;
      }
      img {
        width: 100%;
        margin: 20px 0;
        border: 2px solid var(--yellow);
        border-radius: 5px;
      }
      ul {
        list-style-type: square;
        color: var(--orange);
      }
      li {
        margin-bottom: 5px;
      }
        </style>
    </head>
    <body>
        <h1>pickled-plums</h1>
        <p>
            <strong>Self hosted telemetry service for edge servers</strong>
        </p>
        <hr />
        <h2>Introduction to Telemetry Data</h2>
        <p>
            Telemetry data refers to the automatic measurement and wireless transmission of data from remote or inaccessible sources. In the context of IoT and sensor networks, it means collecting data from devices in real time to monitor performance, detect anomalies, or drive automated actions.
        </p>
        <p>Telemetry is used to:</p>
        <ul>
            <li>Monitor the health and performance of systems</li>
            <li>Collect insights from distributed sensors</li>
            <li>Enable real-time decision making</li>
            <li>Support predictive maintenance and anomaly detection</li>
        </ul>
        <p>
            The necessity of telemetry data stems from the need to understand system behavior in real time, improve responsiveness, and optimize resource usage.
        </p>
        <h2>Why a Self-Hosted Telemetry Service?</h2>
        <p>
            Cloud services like Azure IoT Hub offer powerful tools for managing telemetry data but come at a high cost. For example, handling around 140 KB/s of data throughput may cost roughly $250–$300 per month on Azure. In contrast, our on-premise solution costs around $20 per month for the same volume.
        </p>
        <h3>Cost Comparison</h3>
        <img src="./docs/costs.jpeg" alt="Cost Comparison Diagram" />
        <p>By doing some extra work to set up a self-hosted service, we achieve:</p>
        <ul>
            <li>Significant cost reduction</li>
            <li>Greater control over data and processing</li>
            <li>Optimized performance on edge devices</li>
            <li>Customization to meet specific project needs</li>
        </ul>
        <p>
            The lightweight framework we built—using Golang to simulate sensor data and Python for orchestration—empowers us to process data at the edge, drastically cutting down on cloud expenses.
        </p>
        <h2>Architecture and Diagrams</h2>
        <p>
            Our project is built around a self-hosted telemetry framework. The following diagrams illustrate the core concepts:
        </p>
        <h3>Architecture Diagram</h3>
        <img src="./docs/arch.jpeg" alt="Architecture Diagram" />
        <h3>Telemetry Data Flow</h3>
        <img src="./docs/telemetry.jpeg" alt="Telemetry Data Diagram" />
        <h3>Command Line Interface</h3>
        <img src="./docs/cli.jpeg" alt="CLI Diagram" />
        <h2>Project Overview</h2>
        <p>
            The project was born out of the need to reduce the high costs associated with cloud-based telemetry services. We built a custom Golang server to simulate sensor data, and we orchestrate individual telemetry processes using a single configuration file (config.yaml). Data is streamed and saved as CSV files with timestamps, allowing for efficient processing and storage.
        </p>
        <p>
            This approach not only saves money but also provides enhanced flexibility for IoT and edge computing applications.
        </p>
        <h2>Project Structure</h2>
        <ul>
            <li>
                <strong>Custom Golang Server:</strong> Simulates sensor data.
            </li>
            <li>
                <strong>Processes Directory:</strong> Contains individual telemetry processes managed via config.yaml.
            </li>
            <li>
                <strong>Configuration File (config.yaml):</strong> Orchestrates different telemetry processes.
            </li>
            <li>
                <strong>Output Data:</strong> CSV files stored in output/csv/, each named by its timestamp.
            </li>
            <li>
                <strong>Documentation & Assets:</strong> Includes diagrams and related assets.
            </li>
        </ul>
        <h2>Quick Start</h2>
        <h3>Setup on VPS</h3>
        <pre><code>pip3 install -r requirements.txt</code></pre>
        <h3>Run a Full Telemetry Simulation</h3>
        <pre><code>make simulation</code></pre>
        <h3>Test the API Endpoint</h3>
        <pre><code>make curl</code></pre>
        <h3>Run Individual Telemetry Processes</h3>
        <pre><code>make process p=p1
make process p=p2
make process p=p3
make process p=p4</code></pre>
        <p>Each process streams data to CSV files located in:</p>
        <pre><code>output/csv/&lt;timestamp&gt;.csv</code></pre>
        <h3>Example Output Structure for Process p1</h3>
        <pre><code>output/
└── csv/
    ├── 1743834567.csv
    ├── 1743834568.csv
    └── ...
</code></pre>
        <h2>Experiments & Cost Comparison</h2>
        <p>
            Our experiments demonstrated that Azure IoT Hub's aggressive pricing—approximately $250–$300 per month for 140 KB/s data throughput—can be significantly undercut by a self-hosted solution costing only about $20 per month. This not only validates the economic benefit of edge processing but also highlights the power of customization and control over telemetry data.
        </p>
        <hr />
        <footer>
            <p>
                Made by
                <a href="https://adimail.github.io" target="_blank">Aditya Godse</a> and
                <a href="https://github.com/sudhanshu-chauhan" target="_blank">Sudhanshu Singh Chauhan</a> at
                <a href="https://www.hackbyte.in/" target="_blank">HACKBYTE 3.0</a>
            </p>
            <p>
                <a href="https://github.com/adimail/pickled-plums" target="_blank">GitHub Repository</a>
            </p>
        </footer>
    </body>
</html>
